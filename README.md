# data-tree
把扁平化的表格数据转化成树状的json格式。对数据进行分组统计。
```json
[
    {
        "字段一": "A",
        "字段二": "B",
        "字段三": "C"
    },
    {
        "字段一": "a",
        "字段二": "b",
        "字段三": "c"
    },
    {
        "字段一": "A",
        "字段二": "b",
        "字段三": "c"
    }
]
```
这样一张表结构，如果`groupby`按`字段一`分组，将生成
```json
{
    "A": [
        {
            "字段一": "A",
            "字段二": "B",
            "字段三": "C"
        },
        {
            "字段一": "A",
            "字段二": "b",
            "字段三": "c"
        }
    ],
    "a": {
        "字段一": "a",
        "字段二": "b",
        "字段三": "c"
    }
}
```
如果同时`groupby` `字段一` `字段二`分组，将生成
```json
{
    "A": {
        "B": [
            {
                "字段一": "A",
                "字段二": "B",
                "字段三": "C"
            }
        ],
        "b": [
            {
                "字段一": "A",
                "字段二": "b",
                "字段三": "c"
            }
        ]
    },
    "a": {
        "b": [
            {
                "字段一": "a",
                "字段二": "b",
                "字段三": "c"
            }
        ]
    }
}
```
依此类推，每一个要分组的`key`都会作为对象的属性，最后一个是`key`是个数组集合.

# 使用方法
```js
let d1 = new DataTree();
let data = [
    {
        "字段一": "A",
        "字段二": "B",
        "字段三": "C"
    },
    {
        "字段一": "a",
        "字段二": "b",
        "字段三": "c"
    },
    {
        "字段一": "A",
        "字段二": "b",
        "字段三": "c"
    }
]

d1.init({ data: data, groupby: ["字段一"] });
console.log(d1.result);
let d2 = new DataTree();
d2.init({ data: data, groupby: ["字段一", "字段二"] });
console.log(d2.result);
```
# NPMJS
```bash
npm install --save  datatotree
```